<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="tribuna.content">
<body>
<metal:block fill-slot="style_slot">

</metal:block>

<metal:main fill-slot="main">
<tal:main-macro metal:define-macro="main"
                tal:define="ploneview nocall:context/@@plone">

  <div id="header" class="slider-header">
    <div class="content-slider-wrapper">
      <div class="content-slider responsive">
        <ul id="article-slider" class="unstyled">
          <tal:block tal:repeat="article view/articles_all">
            <li id="${article/getId}"
                data-uid="${article/UID}"
                tal:define="is_article python: article.portal_type == 'tribuna.content.article';
                            is_image python: article.portal_type == 'tribuna.content.image';
                            title python: (is_article or is_image) and article.title or ploneview.cropText(article.getText(), length=25, ellipsis='...');
                            type python: is_article and 'article' or (is_image and 'image') or 'comment'"
                data-url="${context/portal_url}/get-article?id=${article/getId}&type=${type}">
              <div class="item-inner">
                <div tal:content="structure title">Title</div>
                <div class="red" tal:content="type">Article</div>
              </div>
            </li>
          </tal:block>
        </ul>
      </div>
    </div>
    <a href="#" id="prev" class="prev">
      <img class="navigate" src="++theme++tribuna.diazotheme/img/arrowBlackLeft.png" alt="Left"/></a>
      <a href="#" id="next" class="next">
        <img class="navigate" src="++theme++tribuna.diazotheme/img/arrowBlackRight.png" alt="Right"/></a>
  </div>

  <div id="main" data-id="${view/article_id}"></div>

  <div id="article-navigation">
    <a href="#" class="prev">
      <img class="navigate" src="++theme++tribuna.diazotheme/img/arrowBlackLeft.png" alt="Left"/></a>
    <a href="#" class="next">
      <img class="navigate" src="++theme++tribuna.diazotheme/img/arrowBlackRight.png" alt="Right"/></a>
  </div>

  <div id="close-articles">
    <a href="${context/portal_url}/home">
      <img src="++theme++tribuna.diazotheme/img/x-sign.png" style="width: 15px; height:15px" />
    </a>
  </div>

  <div tal:replace="structure provider:plone.belowcontentbody" />

</tal:main-macro>
</metal:main>

</body>
</html>
